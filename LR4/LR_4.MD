| Предыдущее занятие     | &nbsp;                     | Следующее занятие          |
|------------------------|----------------------------|----------------------------|
| [ЛР 3](../LR3/LR_3.MD) | [Содержание](../README.MD) | [ЛР 4](..%2FLR3%2FLR_3.MD) |

# LR 4. Тестирование массивов с использованием JUnit

## Цель работы:

* Освоить принципы тестирования массивов.
* Научиться создавать unit-тесты с использованием фреймворка JUnit.
* Разработать тест-кейсы для проверки корректности работы методов.
* Провести тестирование на основе позитивных и негативных сценариев.

# Оглавление

1. [Теоретический материал](#теоретический-материал)
2. [Задание](#задание)
3. [Контрольные вопросы](#контрольные-вопросы)
4. [Заключение](#заключение)

## Теоретический материал

### Как передать и вернуть массив из метода в java?

#### Пример передачи массива в метод и возврата массива из метода:

```java
public class ArrayExample {

    // Метод, который принимает массив и возвращает новый массив
    public static int[] modifyArray(int[] arr) {
        // Создаем новый массив
        int[] newArray = new int[arr.length];

        // Модифицируем массив (например, увеличиваем каждый элемент на 1)
        for (int i = 0; i < arr.length; i++) {
            newArray[i] = arr[i] + 1;
        }

        // Возвращаем новый массив
        return newArray;
    }

    public static void main(String[] args) {
        int[] originalArray = {1, 2, 3, 4, 5};

        // Передаем массив в метод и получаем новый массив
        int[] modifiedArray = modifyArray(originalArray);

        // Выводим оригинальный массив
        System.out.println("Оригинальный массив:");
        for (int num : originalArray) {
            System.out.print(num + " ");
        }

        // Выводим модифицированный массив
        System.out.println("\nМодифицированный массив:");
        for (int num : modifiedArray) {
            System.out.print(num + " ");
        }
    }
}
```
**Объяснение:**
* **Передача массива в метод**: В методе modifyArray мы принимаем массив int[] arr. Этот массив передается по ссылке, поэтому любые изменения, внесенные в arr, будут видны и в оригинальном массиве, если бы мы изменяли его напрямую.

* **Возврат массива из метода**: Метод modifyArray возвращает новый массив newArray, который создается внутри метода. Этот новый массив не связан с оригинальным массивом, поэтому изменения в нем не влияют на оригинальный массив.

* **Вывод массивов**: В методе main мы выводим как оригинальный массив, так и модифицированный массив, чтобы показать, что оригинальный массив остался неизменным.

**Важно:**
* Если вы хотите изменить оригинальный массив внутри метода, вы можете просто изменять элементы массива arr напрямую, не создавая новый массив.

* Если вы хотите вернуть новый массив, создайте новый массив внутри метода и верните его, как показано в примере.

### как с помощью JUnit проверить массивы?

В `JUnit` для проверки массивов можно использовать метод `assertArrayEquals`, 
который сравнивает два массива поэлементно. Если массивы не равны, тест завершится с ошибкой. Если массивы разной длины, `assertArrayEquals` выбросит исключение `AssertionError`, и тест завершится с ошибкой

Для проверки неравенства массивов можно использовать метод `assertNotEquals`.
Однако, так как массивы — это объекты, `assertNotEquals` сравнивает ссылки, а не содержимое.
Чтобы сравнить содержимое, можно использовать `assertFalse(Arrays.equals(expected, actual))`

Для проверки, что метод возвращает пустой массив, 
можно использовать assertArrayEquals с пустым массивом в качестве ожидаемого значения

```java
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

public class ArrayTest {

    @Test
    public void testArraysEqual() {
        int[] expectedArray = {1, 2, 3, 4, 5};
        int[] actualArray = {1, 2, 3, 4, 5};

        // Проверяем, что массивы равны
        assertArrayEquals(expectedArray, actualArray, "Массивы должны быть равны");
    }

    @Test
    public void testArraysNotEqual() {
        int[] expectedArray = {1, 2, 3, 4, 5};
        int[] actualArray = {1, 2, 3, 4, 6};

        // Проверяем, что массивы не равны
        assertNotEquals(expectedArray, actualArray, "Массивы не должны быть равны");
    }
    
        @Test
    public void testEmptyArray() {
        
        int[] result = someMethodThatReturnsArray();
        assertArrayEquals(new int[]{}, result, "Метод должен вернуть пустой массив");
    }
}
```

**Объяснение**:
1. **assertArrayEquals**:
   * Сравнивает два массива поэлементно.
   * Если массивы равны, тест проходит успешно.
   * Если массивы не равны, тест завершается с ошибкой, и выводится сообщение (если оно указано).

2. **assertNotEquals**:
   * Проверяет, что два массива не равны.
   * Если массивы не равны, тест проходит успешно. 
   * Если массивы равны, тест завершается с ошибкой.

Пример с использованием метода, который возвращает массив:

```java

import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

public class ArrayExampleTest {

    @Test
    public void testModifyArray() {
        int[] originalArray = {1, 2, 3, 4, 5};
        int[] expectedArray = {2, 3, 4, 5, 6};

        // Вызываем метод, который возвращает модифицированный массив
        int[] resultArray = ArrayExample.modifyArray(originalArray);

        // Проверяем, что результат совпадает с ожидаемым массивом
        assertArrayEquals(expectedArray, resultArray, "Модифицированный массив не совпадает с ожидаемым");
    }
}
```
**Важные моменты:**
* **Для объектов (например, массивов строк** String[]): assertArrayEquals также работает, сравнивая элементы массивов с помощью метода equals.
* **Для многомерных массивов**: assertArrayEquals может сравнивать многомерные массивы, например int[][].
* **Порядок элементов**: Массивы должны иметь одинаковый порядок элементов, иначе они считаются не равными.

Пример с многомерным массивом:
```java
@Test
public void testMultiDimensionalArray() {
    int[][] expectedArray = {{1, 2}, {3, 4}};
    int[][] actualArray = {{1, 2}, {3, 4}};

    assertArrayEquals(expectedArray, actualArray, "Многомерные массивы должны быть равны");
}
```

Таким образом, `assertArrayEquals` — это удобный способ проверки массивов в JUnit.

## Задание


1. Реализуйте методы для решения задач согласно вашему варианту. 
Для этой лабораторной работы варианты будут те же, что и у Парфенова А.В.


### Требования к сдаче работы

1. Индивидуальный отчёт по лабораторной работе оформляется используя
   **текстовые редакторы Word(или подобные ему)
   в текстовый файл формата doc или docx.** [ШАБЛОН ДЛЯ ОТЧЕТА ПО ЛР4](LR4_Report.docx)
2. В индивидуальном отчёте должны быть указаны цель, [задание](LAB4_Variants.docx), номер варианта(ДЛЯ ЭТОЙ РАБОТЫ ВАРИАНТЫ ТАКИЕ ЖЕ КАК ПО МДК 01.01 у Парфенова),
   представлены необходимый программный код и пояснения к ним.

***Критерии оценивания***

* Оценка 5
    * Законспектировать теоретический материал
    * Реализовать класс с тремя методами согласно вашему варианту [заданий](LAB4_Variants.docx).
    * Написать тестовый класс с использованием JUnit, реализовав тестовые методы, чтобы тестовое покрытие методов было
      100%.
    * Создать позитивные и негативные тест-кейсы(если это возможно) и оформить их по образцу в индивидуальном отчёте.
    * Оформить индивидуальный отчет [ШАБЛОН ДЛЯ ОТЧЕТА ПО ЛР4](LR4_Report.docx) и ответить на вопросы.
    * загрузить все в гугл форму:[235 группа](https://forms.gle/qSnFBx3ZAuzm1s25A)
      или [237 группа](https://forms.gle/9sRtXMQLVxCmUk4V6)

* Оценка 4
    * Законспектировать теоретический материал
    * Реализовать класс с любыми двумя методами согласно вашему варианту [заданий](LAB4_Variants.docx).
    * Написать тестовый класс с использованием JUnit, реализовав тестовые методы, чтобы тестовое покрытие методов было
      100%.
    * Создать позитивные и негативные тест-кейсы(если это возможно) и оформить их по образцу в индивидуальном отчёте.
    * Оформить индивидуальный отчет [ШАБЛОН ДЛЯ ОТЧЕТА ПО ЛР4](LR4_Report.docx) и ответить на вопросы.
    * загрузить все в гугл форму:[235 группа](https://forms.gle/qSnFBx3ZAuzm1s25A)
      или [237 группа](https://forms.gle/9sRtXMQLVxCmUk4V6)

* Оценка 3
    * Законспектировать теоретический материал
    * Реализовать класс с любым одним методом согласно вашему варианту [заданий](LAB4_Variants.docx).
    * Написать тестовый класс с использованием JUnit, реализовав тестовые методы, чтобы тестовое покрытие методов было
      100%.
    * Создать позитивные и негативные тест-кейсы(если это возможно) и оформить их по образцу в индивидуальном отчёте.
    * Оформить индивидуальный отчет [ШАБЛОН ДЛЯ ОТЧЕТА ПО ЛР4](LR4_Report.docx) и ответить на вопросы.
    * загрузить все в гугл форму:[235 группа](https://forms.gle/qSnFBx3ZAuzm1s25A)
      или [237 группа](https://forms.gle/9sRtXMQLVxCmUk4V6)


## Контрольные вопросы

1. Как проверить, что два массива равны с использованием JUnit?
2. Что произойдет, если массивы разной длины передать 
3. Как проверить, что массив не равен ожидаемому значению с использованием JUnit?
4. Как протестировать, что метод возвращает пустой массив?
5. Как протестировать многомерные массивы с использованием JUnit?

## Заключение

В ходе лабораторной работы студенты освоили принципы тестирования массивов, научились создавать unit-тесты
с использованием JUnit и разрабатывать тест-кейсы для проверки корректности работы методов.

| Предыдущее занятие     | &nbsp;                     | Следующее занятие          |
|------------------------|----------------------------|----------------------------|
| [ЛР 3](../LR3/LR_3.MD) | [Содержание](../README.MD) | [ЛР 4](..%2FLR3%2FLR_3.MD) |
