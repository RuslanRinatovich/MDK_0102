| Предыдущее занятие     | &nbsp;                     | Следующее занятие          |
|------------------------|----------------------------|----------------------------|
| [ЛР 2](../LR2/LR_2.MD) | [Содержание](../README.MD) | [ЛР 4](..%2FLR3%2FLR_3.MD) |

# LR 3. Тестирование методом черного ящика с использованием JUnit

## Цель работы:

* Освоить принципы тестирования методом черного ящика.
* Научиться создавать unit-тесты с использованием фреймворка JUnit.
* Разработать тест-кейсы для проверки корректности работы методов.
* Провести тестирование на основе позитивных и негативных сценариев.

# Оглавление

1. [Теоретический материал](#теоретический-материал)
    * [Что такое тест-кейс?](#что-такое-тест-кейс)
        * [Зачем нужны тест-кейсы?](#зачем-нужны-тест-кейсы)
        * [Основные компоненты тест-кейса](#основные-компоненты-тест-кейса)
        * [Требования к оформлению тест-кейсов](#требования-к-оформлению-тест-кейсов)
        * [Пример хорошо оформленного тест-кейса](#пример-хорошо-оформленного-тест-кейса)
    * [Позитивные и негативные тест-кейсы: что это и зачем они нужны](#позитивные-и-негативные-тест-кейсы-что-это-и-зачем-они-нужны)
        * [Позитивные тест-кейсы](#позитивные-тест-кейсы)
            * [Пример позитивного тест-кейса](#пример-позитивного-тест-кейса)
            * [Зачем нужны позитивные тест-кейсы?](#зачем-нужны-позитивные-тест-кейсы)
        * [Негативные тест-кейсы](#негативные-тест-кейсы)
            * [Пример негативного тест-кейса](#пример-негативного-тест-кейса)
            * [Зачем нужны негативные тест-кейсы?](#зачем-нужны-негативные-тест-кейсы)
        * [Различия между позитивными и негативными тест-кейсами](#различия-между-позитивными-и-негативными-тест-кейсами)
        * [Примеры позитивных и негативных тест-кейсов](#примеры-позитивных-и-негативных-тест-кейсов)
        * [Всегда ли можно написать негативный тест-кейс?](#всегда-ли-можно-написать-негативный-тест-кейс)
            * [Когда негативные тест-кейсы можно написать?](#когда-негативные-тест-кейсы-можно-написать)
            * [Когда негативные тест-кейсы написать сложно или невозможно?](#когда-негативные-тест-кейсы-написать-сложно-или-невозможно)
            * [Примеры ситуаций, когда негативные тест-кейсы невозможны или бессмысленны](#примеры-ситуаций-когда-негативные-тест-кейсы-невозможны-или-бессмысленны)
            * [Что делать, если негативный тест-кейс написать нельзя?](#что-делать-если-негативный-тест-кейс-написать-нельзя)
        * [Вывод](#вывод)
2. [Задание](#задание)
    * [Пример класса и тестового класса](#пример-класса-и-тестового-класса)
    * [Пример заполнения тест-кейсов](#пример-заполнения-тест-кейсов)
    * [Требования к сдаче работы](#требования-к-сдаче-работы)
3. [Контрольные вопросы](#контрольные-вопросы)
4. [Заключение](#заключение)

# Теоретический материал

<details>

<summary>Что такое тест-кейс?</summary>

## Что такое тест-кейс?

**Тест-кейс** — это документ, который описывает последовательность шагов для проверки определенной функциональности.

Он включает:

* Что проверять?
* Как проверять?
* Что ожидать в результате?

### Зачем нужны тест-кейсы?

* Стандартизация процесса тестирования.
* Покрытие требований.
* Упрощение воспроизведения дефектов.
* Обучение новых сотрудников.
* Документирование процесса тестирования.
* Экономия времени.

### Основные компоненты тест-кейса

* Уникальный идентификатор (ID).
* Название.
* Описание.
* Предусловия.
* Шаги выполнения.
* Ожидаемый результат.
* Фактический результат.
* Статус (Pass/Fail/Blocked).

### Требования к оформлению тест-кейсов

* Четкая структура.
* Ясность и простота.
* Повторяемость.
* Актуальность.
* Покрытие требований.

### Пример хорошо оформленного тест-кейса

| Поле                   | 	Значение                                                                                                                                  |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| ID тест-кейса          | 	TC001                                                                                                                                     |
| Название тест-кейса	   | Проверка успешной авторизации с валидными данными.                                                                                         | 
| Описание	              | Убедиться, что пользователь может войти в систему с корректными логином и паролем.                                                         | 
| Предусловия            | 	Нет                                                                                                                                       
| Шаги выполнения	       | 1. Открыть страницу авторизации.<br>2. Ввести логин: "user@example.com".<br>3. Ввести пароль: "Password123".<br> 4. Нажать кнопку "Войти". | 
| Ожидаемый результат    | 	 Пользователь успешно авторизован.                                                                                                        | 
| Фактический результат	 | Пользователь успешно авторизован.                                                                                                          | 
| Статус                 | 	Pass                                                                                                                                      | 
| Примечания	            | Нет                                                                                                                                        |

</details>

<details>

<summary>Позитивные и негативные тест-кейсы: что это и зачем они нужны</summary>

## Позитивные и негативные тест-кейсы: что это и зачем они нужны

### Позитивные тест-кейсы

**Позитивные тест-кейсы** — это тесты, которые проверяют, как система работает
при **корректных** (валидных) входных данных или условиях.
Их цель — убедиться, что система выполняет свои функции так,
как ожидается, когда все введенные данные соответствуют требованиям.

### Пример позитивного тест-кейса:

**Сценарий**: Проверка успешной авторизации.

**Шаги**:

1. Ввести валидный логин: "user@example.com".
2. Ввести валидный пароль: "Password123".
3. Нажать кнопку "Войти".

**Ожидаемый результат**: Пользователь успешно авторизован, отображается главная страница.

### Зачем нужны позитивные тест-кейсы?

Подтверждают, что система работает корректно при правильных данных.

Обеспечивают базовое покрытие функциональности.

### Негативные тест-кейсы

**Негативные тест-кейсы** — это тесты, которые проверяют, как система
обрабатывает **некорректные** (невалидные) входные данные или условия.
Их цель — убедиться, что система корректно обрабатывает ошибки
и не ломается при неправильных данных.

### Пример негативного тест-кейса:

**Сценарий**: Проверка отображения ошибки при вводе неверного пароля.

Шаги:

1. Ввести валидный логин: "user@example.com".
2. Ввести неверный пароль: "WrongPassword".
3. Нажать кнопку "Войти".

**Ожидаемый результат**: Отображается сообщение об ошибке: "Неверный пароль".

### Зачем нужны негативные тест-кейсы?

Проверяют устойчивость системы к ошибкам.

Убеждаются, что система корректно обрабатывает исключительные ситуации.

Помогают выявить уязвимости и улучшить безопасность.

### Различия между позитивными и негативными тест-кейсами

| Критерий            | Позитивные тест-кейсы               | Негативные тест-кейсы                  |
|---------------------|-------------------------------------|----------------------------------------|
| Цель                | Проверка корректной работы системы. | Проверка обработки ошибок.             |
| Входные данные      | Валидные (корректные).              | Невалидные (некорректные).             |
| Пример              | Успешная авторизация.               | Ошибка при вводе неверного пароля.     |
| Ожидаемый результат | Система работает как ожидается.     | Система корректно обрабатывает ошибку. |

### Примеры позитивных и негативных тест-кейсов

**Пример 1: Поле ввода email**

* **Позитивный тест-кейс:**
    * Ввод: "user@example.com".
    * Ожидаемый результат: Email принят, система переходит к следующему шагу.

* **Негативный тест-кейс:**
    * Ввод: "user@example".
    * Ожидаемый результат: Отображается сообщение: "Введите корректный email".

**Пример 2: Поле ввода возраста**

* **Позитивный тест-кейс:**
    * Ввод: "25".
    * Ожидаемый результат: Возраст принят, система переходит к следующему шагу.
* **Негативный тест-кейс:**
    * Ввод: "-5".
    * Ожидаемый результат: Отображается сообщение: "Возраст должен быть положительным числом".

### Всегда ли можно написать негативный тест-кейс?

Возможность написания негативного тест-кейса зависит
от **контекста**, **функциональности** и **требований к системе**. В некоторых случаях
негативные тест-кейсы могут быть невозможны или бессмысленны.

#### Когда негативные тест-кейсы можно написать?

Негативные тест-кейсы уместны, когда:

1. **Есть возможность ввода данных:**
    * Поля для ввода текста, чисел, дат и т.д.
    * Например, поле для ввода email, пароля, возраста.
2. **Система должна обрабатывать ошибки:**
    * Например, отображение сообщений об ошибках при неверных данных.
3. **Есть граничные условия:**
    * Например, минимальная и максимальная длина пароля.
4. **Есть требования к обработке исключительных ситуаций:**
    * Например, что должно происходить, если сервер недоступен.

* Пример:
    * Поле для ввода email: негативный тест-кейс проверяет, что система отображает ошибку при вводе "user@example".

#### Когда негативные тест-кейсы написать сложно или невозможно?

1. **Нет возможности ввода данных:**
    * Если функциональность не предполагает ввод данных пользователем, то и негативные тест-кейсы могут быть неуместны.
    * Например, отображение статической страницы "О нас".
2. **Функциональность не предусматривает обработку ошибок:**
    * Если система не должна обрабатывать ошибки (например, в случае простых операций), то негативные тест-кейсы могут
      быть
      излишними.
    * Например, кнопка "Назад" на сайте: сложно придумать негативный сценарий.
3. **Ограничения системы:**
    * Если система автоматически валидирует данные и не позволяет ввести невалидные значения, то негативные тест-кейсы
      могут
      быть невозможны.
    * Например, выпадающий список с предопределенными значениями.
4. **Отсутствие требований:**
    * Если требования не предусматривают обработку ошибок, то негативные тест-кейсы могут быть бессмысленны.
      **Пример:**
    * Кнопка "Перейти на главную страницу": сложно придумать негативный сценарий, так как функциональность слишком
      проста.

#### Примеры ситуаций, когда негативные тест-кейсы невозможны или бессмысленны

1. Статическая страница:
    * Например, страница "Контакты".
    * Негативный тест-кейс: "Что будет, если пользователь не введет данные?" — но на странице нет полей для ввода.
2. Кнопка с предопределенным действием:
    * Например, кнопка "Обновить страницу".
    * Негативный тест-кейс: "Что будет, если страница не обновится?" — но это скорее баг, чем тест-кейс.
3. Выпадающий список с фиксированными значениями:
    * Например, выбор страны из списка.
    * Негативный тест-кейс: "Что будет, если пользователь выберет несуществующую страну?" — но список предопределен, и
      такой
      выбор невозможен.

#### Что делать, если негативный тест-кейс написать нельзя?

1. Сфокусируйтесь на позитивных тест-кейсах:
    * Убедитесь, что основная функциональность работает корректно.
2. Проверьте граничные условия:
    * Даже если негативные тест-кейсы невозможны, можно проверить граничные случаи.
    * Например, максимальное количество символов в поле.
3. Уточните требования:
    * Если функциональность кажется слишком простой, уточните у аналитиков или разработчиков, есть ли скрытые сценарии.
4. Проверьте интеграции:
    * Если функциональность зависит от внешних систем, проверьте, как она ведет себя при сбоях.

### Вывод:

Для полноценного тестирования необходимы оба типа тест-кейсов. Позитивные тесты показывают, что система работает, а
негативные — что она не ломается при ошибках.

Позитивные и негативные тест-кейсы — это две стороны одной медали. Они дополняют друг друга и помогают обеспечить
качественное тестирование. Позитивные тесты подтверждают, что система работает, а негативные — что она не ломается при
ошибках. Использование обоих типов тест-кейсов позволяет создать более надежное и устойчивое программное обеспечение.

Если вы только начинаете писать тест-кейсы, старайтесь всегда учитывать оба сценария: "что будет, если все правильно"
и "что будет, если что-то пойдет не так".

Негативные тест-кейсы — это мощный инструмент для проверки устойчивости системы к ошибкам, но они не всегда применимы.
Их написание зависит от контекста, функциональности и требований. Если негативные тест-кейсы написать невозможно,
сосредоточьтесь на позитивных сценариях и граничных условиях.

Помните: цель тестирования — не написать как можно больше тест-кейсов, а обеспечить качественное покрытие
функциональности.


</details>

## Задание

<details>

<summary>Ход работы</summary>

Изучите пример классов и пример оформленных тест-кейсов.

### Пример класса и тестового класса

Пример класса для тестирования

```java
public class Calculator {

    // Метод для сложения двух чисел
    public int add(int a, int b) {
        return a + b;
    }

    // Метод для деления двух чисел
    public double divide(int a, int b) {
        if (b == 0) {
            throw new ArithmeticException("Деление на ноль запрещено!");
        }
        return (double) a / b;
    }
}

```

Пример тестового класса

```java
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

public class CalculatorTest {

    @Test
    public void testAdd() {
        Calculator calculator = new Calculator();
        assertEquals(5, calculator.add(2, 3), "2 + 3 должно быть 5");
    }

    @Test
    public void testDivide() {
        Calculator calculator = new Calculator();
        assertEquals(2.0, calculator.divide(4, 2), "4 / 2 должно быть 2.0");
    }

    @Test
    public void testDivideByZero() {
        Calculator calculator = new Calculator();
        Exception exception = assertThrows(ArithmeticException.class, () -> {
            calculator.divide(10, 0);
        });
        assertEquals("Деление на ноль запрещено!", exception.getMessage());
    }
}

```

### Пример заполнения тест-кейсов

**Пример позитивного тест-кейса**

| Поле                  | Значение                                                                  | 
|-----------------------|---------------------------------------------------------------------------|
| ID тест-кейса         | TC001                                                                     |
| Название тест-кейса   | Проверка функции сложения двух чисел                                      |
| Описание              | Проверить, что функция add(int a, int b) возвращает корректный результат. |
| Предусловия           | Нет                                                                       |
| Шаги выполнения       | 1. Вызвать функцию add(2, 3).<br>2. Получить результат.                   |
| Ожидаемый результат   | Функция возвращает 5.                                                     |
| Фактический результат | 5                                                                         |
| Статус                | Pass                                                                      |
| Примечания            | Нет                                                                       |

**Пример негативного тест-кейса**

| Поле                  | Значение                                                                                | 
|-----------------------|-----------------------------------------------------------------------------------------|
| ID тест-кейса         | TC002                                                                                   |
| Название тест-кейса   | Проверка функции деления на ноль                                                        |
| Описание              | Проверить, что функция divide(int a, int b) выбрасывает исключение при делении на ноль. |
| Предусловия           | Нет                                                                                     |
| Шаги выполнения       | 1. Вызвать функцию divide(10, 0).<br>2. Проверить, что выбрасывается исключение.        |
| Ожидаемый результат   | Функция выбрасывает исключение ArithmeticException.                                     |
| Фактический результат | Исключение ArithmeticException с сообщением "Деление на ноль запрещено!"                |
| Статус                | Pass                                                                                    |
| Примечания            | Нет                                                                                     |

### Требования к сдаче работы

1. Индивидуальный отчёт по лабораторной работе оформляется используя
   **текстовые редакторы Word(или подобные ему)
   в текстовый файл формата doc или docx.** [ШАБЛОН ДЛЯ ОТЧЕТА ПО ЛР3](LR3_Report.docx)
2. В индивидуальном отчёте должны быть указаны цель, [задание](LAB3_Variants.docx), номер варианта(ваш порядковый номер
   в списке группы в
   журнале на моем
   сайте [235 группа](https://docs.google.com/spreadsheets/d/186VmfxhiyN9vD0eqQtgej3up6OricDa0/edit?gid=2072898038#gid=2072898038),
   [237 группа](https://docs.google.com/spreadsheets/d/1HBRhJ0W6VezDNjnPWNHxUv7krdP6HPgP/edit?gid=1461174089#gid=1461174089)),
   представлены необходимый программный код и пояснения к ним.

***Критерии оценивания***

* Оценка 5
    * Законспектировать теоритический материал
    * Реализовать класс с тремя методами согласно вашему варианту [заданий](LAB3_Variants.docx).
    * Написать тестовый класс с использованием JUnit, реализовав тестовые методы, чтобы тестовое покрытие методов было
      100%.
    * Создать позитивные и негативные тест-кейсы(если это возможно) и оформить их по образцу в индивидуальном отчёте.
    * Оформить индивидуальный отчет [ШАБЛОН ДЛЯ ОТЧЕТА ПО ЛР3](LR3_Report.docx) и ответить на вопросы.
    * загрузить все в гугл форму:[235 группа](https://forms.gle/oKJjL1dFcH6adcuJA)
      или [237 группа](https://forms.gle/gdCpunJbQnmcQWVF9)

* Оценка 4
    * Законспектировать теоритический материал
    * Реализовать класс с любыми двумя методами согласно вашему варианту [заданий](LAB3_Variants.docx).
    * Написать тестовый класс с использованием JUnit, реализовав тестовые методы, чтобы тестовое покрытие методов было
      100%.
    * Создать позитивные и негативные тест-кейсы(если это возможно) и оформить их по образцу в индивидуальном отчёте.
    * Оформить индивидуальный отчет [ШАБЛОН ДЛЯ ОТЧЕТА ПО ЛР3](LR3_Report.docx) и ответить на вопросы.
    * загрузить все в гугл форму:[235 группа](https://forms.gle/oKJjL1dFcH6adcuJA)
      или [237 группа](https://forms.gle/gdCpunJbQnmcQWVF9)

* Оценка 3
    * Законспектировать теоритический материал
    * Реализовать класс с любым одним методом согласно вашему варианту [заданий](LAB3_Variants.docx).
    * Написать тестовый класс с использованием JUnit, реализовав тестовые методы, чтобы тестовое покрытие методов было
      100%.
    * Создать позитивные и негативные тест-кейсы(если это возможно) и оформить их по образцу в индивидуальном отчёте.
    * Оформить индивидуальный отчет [ШАБЛОН ДЛЯ ОТЧЕТА ПО ЛР3](LR3_Report.docx) и ответить на вопросы.
    * загрузить все в гугл форму:[235 группа](https://forms.gle/oKJjL1dFcH6adcuJA)
      или [237 группа](https://forms.gle/gdCpunJbQnmcQWVF9)

</details>

## Контрольные вопросы

1. Что такое метод черного ящика?
2. Какие виды тестовых сценариев используются в методe черного ящика?
3. Какой фреймворк используется для unit-тестирования в Java?
4. Какие аннотации JUnit вы знаете?
5. Как проверить, что метод выбрасывает исключение в JUnit?

## Заключение

В ходе лабораторной работы студенты освоили принципы тестирования методом черного ящика, научились создавать unit-тесты
с использованием JUnit и разрабатывать тест-кейсы для проверки корректности работы методов.

| Предыдущее занятие     | &nbsp;                     | Следующее занятие          |
|------------------------|----------------------------|----------------------------|
| [ЛР 2](../LR2/LR_2.MD) | [Содержание](../README.MD) | [ЛР 4](..%2FLR3%2FLR_3.MD) |
