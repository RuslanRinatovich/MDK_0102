–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ |         &nbsp;          | –°–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ
:----------------:|:-----------------------:|:----------------:
[–£—Ä–æ–∫ 10](LESSON10.MD) | [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](../README.MD) | [–£—Ä–æ–∫ 12](LESSON11.md)

# –õ–µ–∫—Ü–∏—è 8. –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

# –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ


[–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π](#–ø–æ–∫—Ä—ã—Ç–∏–µ-–∫–æ–¥–∞-–∏-–ø–æ–∫—Ä—ã—Ç–∏–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)
* [–°—á–∏—Ç–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –≤ Intellij IDEA](#—Å—á–∏—Ç–∞–µ–º-—Ç–µ—Å—Ç–æ–≤–æ–µ-–ø–æ–∫—Ä—ã—Ç–∏–µ-–≤-intellij-idea)



---

<details>

<summary>–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π</summary>

# –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

[–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

–° –ø–æ–º–æ—â—å—é —Ç–µ—Ö–Ω–∏–∫ –≤—ã–¥–µ–ª–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∏ 
–≥—Ä–∞–Ω–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —É–¥–æ–±–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –≤–∑—è—Ç—ã–µ –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã. 
–ù–æ –≤ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏, 
–≤ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞. –ê –∑–Ω–∞—á–∏—Ç, –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ 100% –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. 

–ü–æ—ç—Ç–æ–º—É –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–∞—Å—à—Ç–∞–±–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –º–Ω–æ–≥–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã —Ç–µ—Å—Ç–∞–º–∏.
–û –¥–≤—É—Ö —Ç–∞–∫–∏—Ö –º–µ—Ç—Ä–∏–∫–∞—Ö —Ä–∞—Å—Å–∫–∞–∂–µ–º –≤ —ç—Ç–æ–º —É—Ä–æ–∫–µ.

## –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

- **–ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞** (–∞–Ω–≥–ª. _code coverage_), –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤. 
–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ **70%** —Å—Ç—Ä–æ–∫, –∏ **5%** ‚Äî –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤. **100%** –±—ã–≤–∞–µ—Ç —Ä–µ–¥–∫–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ 
–ø–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤–µ—Å—å –∫–æ–¥ ‚Äî –¥–æ–≤–æ–ª—å–Ω–æ —Ç—Ä—É–¥–æ—ë–º–∫–∞—è –∑–∞–¥–∞—á–∞. 
–¢–∞–∫–∂–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –∏–Ω–æ–≥–¥–∞ –Ω–∞–∑—ã–≤–∞—é—Ç **—Ç–µ—Å—Ç–æ–≤—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º** (–∞–Ω–≥–ª. _test coverage_).
 
> üí° –ß–∞—Å—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Å—á–∏—Ç–∞—é—Ç –Ω–µ –æ—Ç –≤—Å–µ–≥–æ –∫–æ–¥–∞, 
> –∞ —Ç–æ–ª—å–∫–æ –æ—Ç **–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏** (–∞–Ω–≥–ª. _business logic_) –ø—Ä–æ–≥—Ä–∞–º–º—ã. 
> **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–∏–ª–∏ –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)** ‚Äî —ç—Ç–æ —Ç–∞ —á–∞—Å—Ç—å –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è. 
> –í –Ω–µ—ë –Ω–µ –≤—Ö–æ–¥—è—Ç —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –º–æ–¥–µ–ª–∏ –æ–±—ä–µ–∫—Ç–æ–≤. 
> –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–æ—Ä–æ–≥ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ 80%. 
> –¢–∞–∫–æ–π —É—Ä–æ–≤–µ–Ω—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º –º–µ–∂–¥—É –≤—Ä–µ–º–µ–Ω–µ–º, 
> –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–º –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤, –∏ –∫–∞—á–µ—Å—Ç–≤–æ–º –≥–æ—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.


- **–ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π** (–∞–Ω–≥–ª. _requirements coverage_), –æ–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –Ω–∞–±–æ—Ä–æ–º —Ç–µ—Å—Ç–æ–≤. 

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–∞–±–æ—Ç—É –¥–≤—É—Ö —ç—Ç–∏—Ö –º–µ—Ç—Ä–∏–∫ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ. 
–î–æ–ø—É—Å—Ç–∏–º, –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –º–µ—Ç–æ–¥ `transfer(...)` (–∞–Ω–≥–ª. ¬´_–ø–µ—Ä–µ–≤–æ–¥_¬ª)
–≤ –∫–ª–∞—Å—Å–µ `MoneyTransferService` (–∞–Ω–≥–ª. ¬´—Å–µ—Ä–≤–∏—Å –ø–æ –ø–µ—Ä–µ–≤–æ–¥—É –¥–µ–Ω–µ–≥¬ª), –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å—É–º–º—É –¥–µ–Ω–µ–≥ `amount` —Å –æ–¥–Ω–æ–≥–æ —Å—á—ë—Ç–∞ 
–Ω–∞ –¥—Ä—É–≥–æ–π. –ü—Ä–∏ —ç—Ç–æ–º –¥–æ–ª–∂–Ω—ã —Å–æ–±–ª—é–¥–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
* –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –¥–µ–Ω—å–≥–∏ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ –¥—Ä—É–≥–æ–π —Å—á—ë—Ç (–Ω–µ–ª—å–∑—è —Å–æ–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ç–æ—Ç –∂–µ —Å—á—ë—Ç, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–≤–æ–¥);
* —Å—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0;
* –±–∞–ª–∞–Ω—Å —Å—á—ë—Ç–∞, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–≤–æ–¥, –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 0;
* –ø—Ä–∏ –∑–∞—á–∏—Å–ª–µ–Ω–∏–∏ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á—ë—Ç –µ–≥–æ –±–∞–ª–∞–Ω—Å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ç–∏.

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç–æ—Ä–æ–ø–∏–ª—Å—è –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ –¥–≤–∞ –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```java
class MoneyTransferService {

    public int transfer(int amount, Account accountOne, Account accountTwo) {
        // –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –¥–µ–Ω—å–≥–∏ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ –¥—Ä—É–≥–æ–π —Å—á—ë—Ç
        if (accountOne.id.equals(accountTwo.id)) {
            System.out.println("–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞ —Ç–æ—Ç –∂–µ –∞–∫–∫–∞—É–Ω—Ç. Id: " + accountOne.id);
            return -2;
        }
        // —Å—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0
        if (amount <= 0){
            System.out.println("–°—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0. –¢–µ–∫—É—â–∞—è —Å—É–º–º–∞: " + amount);
            return -1;
        }

        accountOne.balance -= amount;
        accountTwo.balance += amount;
        return 0;
    }

    
}

class Account {
    public String id;
    public int balance;

    public Account(String id, int balance) {
        this.id = id;
        this.balance = balance;
    }
}
```

–¢–µ—Å—Ç—ã

```java
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class MoneyTransferTest {
    private final MoneyTransferService moneyTransferService = new MoneyTransferService();

    @Test
    void shouldMakeTransfer() {
        Account accountOne = new Account("1", 10);
        Account accountTwo = new Account("2", 10);
        
        assertEquals(0, moneyTransferService.transfer(7, accountOne, accountTwo), "–£—Å–ø–µ—à–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç 0");
        assertEquals(3, accountOne.balance);
        assertEquals(17, accountTwo.balance);
    }

    @Test
    void shouldNotTransferMoneyOnSameAccount() {
        Account accountOne = new Account("1", 10);
        assertEquals(-2, moneyTransferService.transfer(5, accountOne, accountOne), "–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞ —Ç–æ—Ç –∂–µ –∞–∫–∫–∞—É–Ω—Ç. Id: 1");
    }

    @Test
    public void shouldNotTransferZero() {

        Account accountOne = new Account("1", 10);
        Account accountTwo = new Account("2", 10);

        assertEquals(-1, moneyTransferService.transfer(0, accountOne, accountTwo), "–°—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0. –¢–µ–∫—É—â–∞—è —Å—É–º–º–∞: 0");
    }

}



```

–í—Å–µ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –ø—Ä–æ–π–¥–µ–Ω—ã. –ù–æ –∏–∑ —ç—Ç–æ–≥–æ –Ω–µ —Å–ª–µ–¥—É–µ—Ç, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞–ø–∏—Å–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. 

–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–æ—Å—Ç–∞–≤–∏—Ç 100%, 
–ø–æ—Ç–æ–º—É —á—Ç–æ –≤ —Ç–µ—Å—Ç–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ—á–∫–∞ –∫–æ–¥–∞. 
–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –¥–≤–∞ –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π: 
–±–∞–ª–∞–Ω—Å –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –º–µ–Ω—å—à–µ –Ω—É–ª—è, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ–≤–µ—Ä–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Å—É–º–º. 
–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç ‚Äî —Ç–æ–ª—å–∫–æ 50%.

–î–æ–±–∞–≤–∏–º —Ç–µ—Å—Ç—ã, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

```java
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class MoneyTransferTest {
    private final MoneyTransferService moneyTransferService = new MoneyTransferService();

    @Test
    void shouldMakeTransfer() {
        Account accountOne = new Account("1", 10);
        Account accountTwo = new Account("2", 10);
        
        assertEquals(0, moneyTransferService.transfer(7, accountOne, accountTwo), "–£—Å–ø–µ—à–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç 0");
        assertEquals(3, accountOne.balance);
        assertEquals(17, accountTwo.balance);
    }

    @Test
    void shouldNotTransferMoneyOnSameAccount() {
        Account accountOne = new Account("1", 10);
        assertEquals(-2, moneyTransferService.transfer(5, accountOne, accountOne), "–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞ —Ç–æ—Ç –∂–µ –∞–∫–∫–∞—É–Ω—Ç. Id: 1");
    }

    @Test
    public void shouldNotTransferZero() {

        Account accountOne = new Account("1", 10);
        Account accountTwo = new Account("2", 10);

        assertEquals(-1, moneyTransferService.transfer(0, accountOne, accountTwo), "–°—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0. –¢–µ–∫—É—â–∞—è —Å—É–º–º–∞: 0");
    }

    @Test
    public void shouldNotMakeBalanceLessThanZero() {

        Account accountOne = new Account("1", 10);
        Account accountTwo = new Account("2", 10);
        assertEquals(-3, moneyTransferService.transfer(15, accountOne, accountTwo), "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á—ë—Ç–µ —Å id 1. –ü–µ—Ä–µ–≤–æ–¥ —Å—É–º–º—ã 15 –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.");
    }

    @Test
    public void shouldNotMakeOverflowOnTransfer() {

        Account accountOne = new Account("1", 10);
        Account accountTwo = new Account("2", Integer.MAX_VALUE);

        assertEquals(-4, moneyTransferService.transfer(1, accountOne, accountTwo), "–ü–µ—Ä–µ–≤–æ–¥ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω. –ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, —Å—á—ë—Ç —Å id 2 –±—É–¥–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω.");
    }
}
```

–¢–µ—Å—Ç—ã `shouldNotMakeBalanceLessThanZero` –∏ `shouldNotMakeOverflowOnTransfer` –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –æ—à–∏–±–∫–æ–π. –û–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –¥–≤–∞ —É—Å–ª–æ–≤–∏—è:
* –±–∞–ª–∞–Ω—Å —Å—á—ë—Ç–∞, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–≤–æ–¥, –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 0;
* –ø—Ä–∏ –∑–∞—á–∏—Å–ª–µ–Ω–∏–∏ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á—ë—Ç –µ–≥–æ –±–∞–ª–∞–Ω—Å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ç–∏.

–ò—Å–ø—Ä–∞–≤–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ –ø—Ä–æ—Ö–æ–¥–∏–ª–∞ –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã. –ù–æ –≤ —ç—Ç–æ–º –∫–æ–¥–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –µ—â—ë –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫: –ø–æ –≥—Ä–∞–Ω–∏—á–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º –∏ –∫–ª–∞—Å—Å–∞–º —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏. 

```java
class MoneyTransferService {

    public int transfer(int amount, Account accountOne, Account accountTwo) {
        // –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –¥–µ–Ω—å–≥–∏ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ –¥—Ä—É–≥–æ–π —Å—á—ë—Ç
        if (accountOne.id.equals(accountTwo.id)) {
            System.out.println("–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞ —Ç–æ—Ç –∂–µ –∞–∫–∫–∞—É–Ω—Ç. Id: " + accountOne.id);
            return -2;
        }
        // —Å—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0
        if (amount <= 0){
            System.out.println("–°—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0. –¢–µ–∫—É—â–∞—è —Å—É–º–º–∞: " + amount);
            return -1;
        }

        // –±–∞–ª–∞–Ω—Å –Ω–µ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
        if (amount > accountOne.balance) {
            System.out.println("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á—ë—Ç–µ —Å id " + accountOne.id + ". –ü–µ—Ä–µ–≤–æ–¥ —Å—É–º–º—ã " + amount + " –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.");
            return -3;
        }

        // –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—é –±–∞–ª–∞–Ω—Å–∞
        if (accountTwo.balance + amount < 0) {
            System.out.println("–ü–µ—Ä–µ–≤–æ–¥ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω. –ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, —Å—á—ë—Ç —Å " + accountTwo.id + " –±—É–¥–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω.");
            return -4;
        }

        accountOne.balance -= amount;
        accountTwo.balance += amount;
        return 0;
    }
}
```

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏. 
–ò–∑ —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤–∞–∂–Ω—ã–π –≤—ã–≤–æ–¥: 

>> 100% –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Å–æ–≤—Å–µ–º –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –í–∞–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.

## –°—á–∏—Ç–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –≤ Intellij IDEA

–ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ–º—ã—Ö —Å—Ç—Ä–æ—á–µ–∫ –∫–æ–¥–∞ –≤–æ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∞ –æ—á–µ–Ω—å –ª–µ–≥–∫–æ –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å—Ä–µ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ IntelliJ IDEA.
–î–ª—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–ª–∞—Å—Å —Å —Ç–µ—Å—Ç–∞–º–∏, –Ω–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä
–º—ã—à–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –∑–∞–ø—É—Å–∫–∞ –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏–ª–∏ –≤—Å–µ–≥–æ –∫–ª–∞—Å—Å–∞.

![img_4.png](part2/img_4.png)

–ê –∑–∞—Ç–µ–º –≤—ã–±–µ—Ä–∏—Ç–µ `Run 'BankAccountTest' with Coverage` (–∞–Ω–≥–ª. ¬´–∑–∞–ø—É—Å—Ç–∏—Ç—å [–∏–º—è –∫–ª–∞—Å—Å–∞] —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º¬ª).

![img_5.png](part2/img_5.png)

–ü–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–º –º–µ–Ω—é —Å–ø—Ä–∞–≤–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–≤–∏–¥–µ—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞. 

![img_6.png](part2/img_6.png)

–ï—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª —Å –∫–æ–¥–æ–º —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–ª–∞—Å—Å–∞, —Ç–æ –ø–æ–∫—Ä—ã—Ç—ã–µ —Ç–µ—Å—Ç–∞–º–∏ —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç –≤—ã–¥–µ–ª—è—Ç—å—Å—è –∑–µ–ª–µ–Ω—ã–º —Ü–≤–µ—Ç–æ–º.

![img_7.png](part2/img_7.png)

–£–±—Ä–∞—Ç—å –≤—Å–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `Hide Coverage` 
(–∞–Ω–≥–ª. ¬´**—Å–∫—Ä—ã—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ**¬ª). –î–ª—è —ç—Ç–æ–≥–æ –¥–≤–∞–∂–¥—ã –Ω–∞–∂–º–∏—Ç–µ Shift –¥–ª—è –≤—ã–∑–æ–≤–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é, 
–≤–≤–µ–¥–∏—Ç–µ ‚ÄúHide Coverage‚Äù –∏ –Ω–∞–∂–º–∏—Ç–µ Enter. –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –º—ã—à–∏ –Ω–∞ –ª—é–±–æ–π –∏–∑ –∑–µ–ª–µ–Ω—ã—Ö –∏–ª–∏ –∫—Ä–∞—Å–Ω—ã—Ö –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤.
–î–∞–ª–µ–µ –≤ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É `Hide coverage`.

![img_8.png](part2/img_8.png)


–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∏–ª–∏ –ø–æ–¥—Å—á—ë—Ç –ø–æ–∫—Ä—ã—Ç–∏—è –Ω–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç-–∫–ª–∞—Å—Å–∞, –∞ –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞. 

–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —â—ë–ª–∫–Ω—É—Ç—å –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–æ–º –º–æ–¥—É–ª–µ –≤ –¥–µ—Ä–µ–≤–µ –ø—Ä–æ–µ–∫—Ç–æ–≤, 
–≤ –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è –º–µ–Ω—é –≤—ã–±—Ä–∞—Ç—å ‚ÄúRun 'All Tests'‚Äù 
–¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∏–ª–∏ ‚ÄúMore Run/Debug‚Äù ‚Üí ‚ÄúRun 'All Tests' with Coverage‚Äù –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è.

![img_9.png](part2/img_9.png)

–ï—Å–ª–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —É–∂–µ –±—ã–ª–æ –ø–æ–¥—Å—á–∏—Ç–∞–Ω–æ –¥–ª—è –∫–∞–∫–∏—Ö-—Ç–æ –ø–∞–∫–µ—Ç–æ–≤/—Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤, —Ç–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–æ–¥—Å—á—ë—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ IDEA —Å–ø—Ä–æ—Å–∏—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å –Ω–æ–≤—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏:

![img_10.png](part2/img_10.png)

* **Replace active suites** (–∞–Ω–≥–ª. ¬´_–∑–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–µ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã¬ª_) ‚Äî –æ—Å—Ç–∞–≤–∏—Ç —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç;
* **Add to active suites** (–∞–Ω–≥–ª. ¬´_–¥–æ–±–∞–≤–∏—Ç—å –∫ —Ç–µ–∫—É—â–∏–º —Ç–µ—Å—Ç-–∫–µ–π—Å–∞–º_¬ª) ‚Äî –¥–æ–±–∞–≤–∏—Ç –∫ –∏–º–µ—é—â–∏–º—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –Ω–æ–≤—ã–π;
* **Do not apply collected coverage** (–∞–Ω–≥–ª. ¬´_–Ω–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–æ–¥—Å—á–∏—Ç–∞–Ω–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ_¬ª) ‚Äî –æ—Å—Ç–∞–≤–∏—Ç —Å—Ç–∞—Ä—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã;

–ï—Å–ª–∏ –æ—Ç–º–µ—Ç–∏—Ç—å –ø—É–Ω–∫—Ç ‚ÄúDo not show this dialog in the future‚Äù (–∞–Ω–≥–ª. ¬´–±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç—Ç–æ—Ç –¥–∏–∞–ª–æ–≥¬ª), 
—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø—É–Ω–∫—Ç –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –≤—Å–µ–≥–¥–∞.

–ü–æ—Å–ª–µ –ø–æ–¥—Å—á—ë—Ç–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –≤—Ü–µ–ª–æ–º.

![img_11.png](part2/img_11.png)

> –ï—Å–ª–∏ –≤–º–µ—Å—Ç–æ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –ø–æ–∫—Ä—ã—Ç–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –ø—Ä–æ–≥—Ä–∞–º–º–µ, 
> —Å –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é —ç—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ 100% –ø–æ–∫—Ä—ã—Ç–∏—é –∫–æ–¥–∞.

</details>

